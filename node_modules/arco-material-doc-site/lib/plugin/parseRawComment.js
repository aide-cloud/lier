"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const doctrine_1 = __importDefault(require("doctrine"));
function parseRawComment(fileContent) {
    const commentList = [];
    fileContent.replace(/\/\*{2}\s*\n(\s*\*.*\n)+\s*\*\//g, (match) => {
        const comment = {
            kind: 'member',
        };
        doctrine_1.default
            .parse(match, { unwrap: true, recoverable: true })
            .tags.forEach(({ title, name, description }) => {
            const value = name || description;
            if (value) {
                comment[title] = value;
            }
            if (title === 'file') {
                comment.kind = 'file';
            }
        });
        commentList.push(comment);
        return match;
    });
    return commentList;
}
exports.default = parseRawComment;
